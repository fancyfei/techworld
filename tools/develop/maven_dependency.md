# 项目自动构建工具-Maven核心之依赖

- Maven 根据“坐标”，按顺序搜索依赖的Jar包或pom。
- 先在本地仓库搜索，没有找到，就去中央存储库搜索，最后会去远程仓库搜索(如果在 pom.xml 中定义)。
- 子项目是可以继承父项目中的依赖。
- 依赖是可以传递的，如果A依赖B，B依赖C，那么A也会依赖C。

> 依赖范围

*maven 项目三种阶段对应将引入不同依赖项到classpath：编译时，测试时，运行时。*

*定义依赖项时，通过scope来指定该依赖项的作用范围。*

1. compile：依赖项的默认作用范围，表示三种classpath都有效。
2. runtime：表示编译时不需要，运行时和测试时都将引入此依赖项。
3. test：在编译时和测试时引入依赖项，仅运行时不需要。
4. provided：表示将由JDK或者容器在运行时提供，编译时和测试时引入此依赖项。
5. system：当scope为system时，表示该依赖项将加载指定的系统文件，不需要仓库。
6. import：只在使用dependencyManagement时有效，表示从其他pom中导入dependecy的配置。

> 依赖传递

1. 父项目dependencies里所有的依赖都会自动引入，并默认被所有的子项目继承。
2. 依赖传递在选择依赖项的版本的时候首先是选择深度最短的。在A->B->C情况下，如果B和C中有同名依赖项，则A中此项将选择B中的版本。
3. 同样的深度，选择定义顺序最前的依赖项的版本。
4. 同pom.xml中，最后的覆盖之前的依赖项。
5. optional标签为true,意味着子模块将不依赖此依赖项。
6. exclusions标签可以排除指定的传递来的依赖项。
7. dependencyManagement统一多模块的依赖版本。

> dependencyManagement

1. 此元素使用在父项目的POM文件中，子项目继承父项目。
2. 集中管理项目的依赖项。子项目需要显示的声明需要用的依赖，才能继承。
3. 控制使用的依赖项的版本。子项目中只用引用一个依赖，版本号会使用dependencyManagement元素中指定的。
4. 子项目中可以指定版本来覆盖dependencyManagement指定的版本号。

