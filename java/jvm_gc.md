# JVM的垃圾回收设计
- 垃圾回收主要是在Java堆区和方法区内存，这部分内存分配和回收是动态的。
程序计数器、虚拟机栈和本地方法栈3个区域随线程启动与销毁，则不需要考虑回收。
- 现代的收集器基本都采用分代收集算法。
- JDK7,JDK8的默认垃圾收集器的组合是：年轻代用并行吞吐量优先收集器（Parallel Scavenge），老年代用串行收集器（Serial Old）。
- 从JDK9开始默认垃圾收集器G1（Garbage-First）。
- 新生代内存不足时，或者要分配超大对象时，都会启动“分配担保”，直接将内存分配在老年代。

# JVM中的作为GCRoots
可以作为GCRoots的对象：
虚拟机栈引用的对象、
方法区的类静态属性引用的对象、
方法区常量引用的对象、
本地方法栈中Native方法引用的对象。




# Jvm引用类型
在引用计数法垃圾回收中，定义了对象的引用类型有：强引用、软引用、弱引用、虚引用，这四种引用强度依次递减。
> 有强引用(StrongReference)存在无法回收；
> 
> 有软引用(SoftReference)存在将在内存溢出前进行第二次回收；
> 
> 有弱引用(WeakReference)存在将在第二次扫描到时回收；
> 
> 有虚引用(PhantomReference)存在不影响回收，仅通过引用队列能感知到垃圾回收的消息；
