# 开发团队及其个人的代码质量管控

# 代码质量
> 代码质量，体现的是功能性需求背后的非功能性需求：
- 我们可以用可测性，可读性，可理解性，容变性等代码可维护性维度的质量属性来衡量代码质量。
- 代码质量指的是代码内在的非功能性的质量。
- 代码质量是团队技术水平和管理水平的直接体现。
- 什么是靠谱开发人员，就是总是写高质量代码的开发人员。

> 网上流传关于代码质量的两则玩笑：
- *“好的代码就像好的笑话一样，它不需要解释（Good code is like a good joke: It needs no explanation）”。*
- *“每分钟爆粗数量” - 衡量代码质量。*

# 七宗罪
> 《Sonar code quality testing essential》一书中提到七个维度定义代码内在质量（开发人员七宗罪）：
- 编码规范：是否遵守了编码规范，遵循了最佳实践。
- 潜在的BUG：可能在最坏情况下出现问题的代码，以及存在安全漏洞的代码。
- 文档和注释：过少（缺少必要信息）、过多（没有信息量）、过时的文档或注释。
- 重复代码：违反了Don’tRepeat Yourself原则。
- 复杂度：代码结构太复杂（如圈复杂度高），难以理解、测试和维护。
- 测试覆盖率：编写单元测试，特别是针对复杂代码的测试覆盖是否足够。
- 设计与架构：是否高内聚、低耦合，依赖最少。

# 坏味道
> Martin Fowler也在其著作《重构：改善即有代码的设计》提到：
- “代码坏味道（Bad Code Smells）”是低质量的代码设计和实现所显现的“症状”。
- 书中罗列了22种代码坏味道以及对应的重构手法。

# 几个概念
> 有几个其它领域的理论来同样可以用在编程，来加强对代码质量的认识：
- 破窗效应：在烂代码上继续生产烂代码的心理负担小很多。不良现象如果被放任存在，会诱使人们仿效，甚至变本加厉。
- 熵增定律：一个封闭系统总是趋向于熵增，也就是系统的无序程度只会不断增加。
- 技术债：在应该采用最佳方案时进行了妥协，在未来用额外开发解决。负债则有利息，技术债务不及时偿还的话，会在未来呈现出非线性增长，造成始料不及的损失。

>

